<!DOCTYPE html> <html lang="en"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>TITAN | Sindhura Thirumal</title> <meta name="author" content="Sindhura Thirumal"/> <meta name="description" content="Image processing & analysis software for IMC data"/> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"/> <link href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha256-DF7Zhf293AJxJNTmh5zhoYYIMs2oXitRfBjY+9L//AY=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"/> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.4/css/all.min.css" integrity="sha256-mUZM63G8m73Mcidfrv5E+Y61y7a12O5mW4ezU3bxqW4=" crossorigin="anonymous"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/academicons@1.9.1/css/academicons.min.css" integrity="sha256-i1+4qU2G2860dGGIOJscdC30s9beBXjFfzjWLjBRsBg=" crossorigin="anonymous"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/github.css" media="none" id="highlight_theme_light"/> <link rel="shortcut icon" href="/assets/img//assets/img/employee.png"/> <link rel="stylesheet" href="/assets/css/main.css"> <link rel="canonical" href="https://sindhurathiru.github.io/projects/titan/"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/jwarby/jekyll-pygments-themes@master/native.css" media="none" id="highlight_theme_dark"/> <script src="/assets/js/theme.js"></script> <script src="/assets/js/dark_mode.js"></script> </head> <body class="fixed-top-nav sticky-bottom-footer"> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Sindhura </span>Thirumal</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">portfolio</a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/assets/pdf/Resume%20-%20Sindhura%20Thirumal.pdf">resume</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">TITAN</h1> <p class="post-description">Image processing &amp; analysis software for IMC data</p> </header> <article> <style>th{text-align:center}td{text-align:center}</style> <p><i>This work was published in <a href="https://onlinelibrary.wiley.com/doi/abs/10.1002/cyto.a.24535" target="_blank" rel="noopener noreferrer">Cytometry Part A</a> and presented at the <a href="https://imno.ca/" target="_blank" rel="noopener noreferrer">2021 Imaging Network Ontario conference</a>. </i></p> <iframe width="750" height="350" src="https://www.youtube.com/embed/5r2q63ghE-0" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <p><br></p> <div class="row justify-content-sm-center" style="background-color: #fbf2fb"> <div class="col-sm-4 mt-3"> <h3 style="color: #b87bd0">Goal</h3> <p style="color: #b87bd0">Develop a tool that can provide end-to-end analysis of imaging mass cytometry data and improve upon the current software.</p> </div> <div class="col-sm-8 mt-3"> <h3 style="color: #b87bd0">Result</h3> <p style="color: #b87bd0">Developed <i>TITAN</i>, which provides a step-by-step, user-centered workflow for visualization, segmentation, and analysis. It mitigates the shortcomings of current analysis pipelines and improves efficiency.</p> </div> </div> <p><br></p> <p>Imaging mass cytometry (IMC) is a powerful tissue imaging technology that improves upon traditional imaging methods. It’s capable of outputting a large amount of data, however the current analysis methods are fairly preliminary. Currently, the analytical pipeline is as follows:</p> <ol> <li>Export raw data using <i>MCD Viewer</i> </li> <li>Import images from <i>MCD Viewer</i> into <i>CellProfiler</i> for cell segmentation</li> <li>Export generated masks from <i>CellProfiler</i> to the analysis software <i>histoCat</i> </li> <li>Export resulting data for external analyses if necessary</li> </ol> <p>In order to complete these tasks, three separate software - endorsed by the manufacturers of the Hyperion™ - are needed and require the unnecessary exportation of partial data results.</p> <p>Although these software are the standard for analysis of IMC data, they are lacking in utility and require using multiple software for each of the tasks of visualization, segmentation, and analysis. In addition to issues in efficiency, there are certain pitfalls within the functionality of the software themselves, identified by users of these software.</p> <p><a href="https://github.com/SlicerMicro/Slicer-TITAN" target="_blank" rel="noopener noreferrer"><b>TITAN</b></a> was developed within a free open-source software platform - <a href="https://www.slicer.org/" target="_blank" rel="noopener noreferrer">3D Slicer</a> - for the purpose of addressing pitfalls and inefficienceis in the existing workflows for IMC analysis. It’s compatible with both multi-channel text files and single-channel TIFF images of IMC data as inputs and provides an end-to-end pipeline for exploration and quantification of IMC data in a single environment.</p> <div class="row"> <div class="col-sm mt-3"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/extensions%20store%20v2-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/extensions%20store%20v2-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/extensions%20store%20v2-1400.webp"></source> <img src="/assets/img/extensions%20store%20v2.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="titan store" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> User interface of TITAN. Sections of TITAN's user interface are shown in: a) Visualization tab and b) Analysis tab. c) TITAN can be added directly from the Extensions store in 3D Slicer. </div> <p>TITAN uses several well-documented Python libraries including <a href="https://pillow.readthedocs.io/en/stable/" target="_blank" rel="noopener noreferrer">Python Imaging Library</a>, <a href="https://pypi.org/project/SimpleITK/" target="_blank" rel="noopener noreferrer">SimpleITK</a>, <a href="https://matplotlib.org/" target="_blank" rel="noopener noreferrer">matplotlib</a>, and <a href="https://scikit-learn.org/stable/" target="_blank" rel="noopener noreferrer">scikit-learn</a>. It is open-source and publicly available through its <a href="https://github.com/SlicerMicro/Slicer-TITAN" target="_blank" rel="noopener noreferrer">Github repository</a> along with detailed documentation and tutorials.</p> <div class="row"> <div class="col-sm-6 my-3"> TITAN's functionality is divided into 3 main categories, following the natural order of analysis of IMC data: </div> <div class="col-sm-6 my-3"> <ol> <li>Visualization</li> <li>Segmentation</li> <li>Analysis</li> </ol> </div> </div> <div class="row"> <div class="col-sm mt-3"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/titan_overview-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/titan_overview-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/titan_overview-1400.webp"></source> <img src="/assets/img/titan_overview.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="titan overview" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <p>After importing IMC data in text or image format, the user can view individual protein channels as well as an overlay of multiple channels at once. Users can then segment the nucleus channel into a cell mask, which is required for single-cell feature extraction and analysis. Once the cell mask is created, the user can produce a variety of quantitative plots that provide statistical information about the data.</p> <h3 size="-6">Data Importation</h3> <p>TITAN allows the user to import either raw text files, which are generated during acquisition, or TIFF image files of the individual channels. The text file for an ROI contains the pixel information including location and intensity of each protein channel within a given ROI. If importing the raw text file of each ROI, TITAN will convert the file into individual channel images based on the pixel values and use the generated images for downstream functions. This ultimately removes the need of MCD Viewer, which typically requires an MCD file. There is also the option of importing 8-bit TIFF image files of each channel, for situations where the user may not possess the raw text file. The user can import these files directly into TITAN.</p> <h3 size="-6">Visualization</h3> <p>TITAN provides a thumbnail overview of all single-channel images within a given acquired IMC ROI, providing users the ability to assess staining easily and qualitatively. TITAN also allows for the visualization and overlay of up to seven false-coloured channels simultaneously for each ROI, which can be used to generate publication quality figures. An advantage of TITAN compared with MCD Viewer is that, with TITAN, the user is able to manually threshold images or perform automated colour scaling – a feature provided through 3D Slicer. These adjustments can be applied globally to the entire ROI, or locally based on a user-selected region of the ROI. This functionality allows users to optimize the brightness/contrast of multi-channel images interactively and conveniently. Furthermore, TITAN enables users to retain the adjustment parameters for a selected ROI and apply it to all other ROIs to achieve standardized and comparable visualizations across a dataset, shown here:</p> <div class="row"> <div class="col-sm my-3"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/img_adjustment-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/img_adjustment-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/img_adjustment-1400.webp"></source> <img src="/assets/img/img_adjustment.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="image adjustment" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 size="-6">Segmentation</h3> <p>Beyond visualization, IMC enables proteomic imaging at subcellular resolution, thus allowing for single cell-level phenotyping and characterization of tissues. Delineation and segmentation of individual cells within ROIs is a critical step in any IMC data analysis pipeline. In order to segment this nucleus channel, TITAN utilizes a watershed algorithm and morphological image processing to create the initial nucleus mask. When cell segmentation is complete, the total number of cells segmented within each ROI is reported, which is an essential variable for further analysis. Notably, TITAN generates cell masks for multiple ROIs simultaneously and efficiently.</p> <div class="row"> <div class="col-sm my-3"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/dna_channel-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/dna_channel-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/dna_channel-1400.webp"></source> <img src="/assets/img/dna_channel.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="dna channel" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> <div class="col-sm my-3"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/fig%202%20cell%20mask.PNG-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/fig%202%20cell%20mask.PNG-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/fig%202%20cell%20mask.PNG-1400.webp"></source> <img src="/assets/img/fig%202%20cell%20mask.PNG" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="cell mask" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h3 size="6">Analysis</h3> <p>TITAN contains simple analysis functions including the generation of histograms, scatter plots, and heat maps of cell features, as well as more computationally complex methods such as dimensionality reduction and clustering functions for cell features.</p> <p>Following cell segmentation, cell-level mean intensities can be extracted from multi-channel data by calculating the mean intensity of each protein channel within each cell. TITAN is also then capable of exporting these data in spreadsheets, which can be used in external applications as well. This feature provides the user the flexibility to perform downstream analyses of single-cell data in their preferred program or in-house pipeline(s).</p> <p>Using the scatter plots produced by TITAN, a manual gating function was implemented. This function allows users to manually gate cell populations based on the hierarchical expression proteins in a two-by-two manner, comparable to how hierarchical gating of cell flow cytometry data is performed. To gate, the user selects two channels for the scatter plot and selects the cells of interest. When the user creates the gated area, a new cell mask containing only the selected cells is displayed and the user has the option to continue gating the images into successive generations. TITAN’s gating feature will be familiar to users experienced with flow cytometry analysis and will enable manual identification and enumeration of cell populations based on marker expression.</p> <div class="row"> <div class="col-sm my-3"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/gating-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/gating-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/gating-1400.webp"></source> <img src="/assets/img/gating.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" title="gating" data-zoomable="" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <h2>Summary of Features</h2> <p><br></p> <table style="width:100%"> <thead> <tr> <th rowspan="2" scope="col">Feature</th> <th scope="col">My software</th> <th colspan="3" scope="colgroup">Manufacturer Software</th> </tr> <tr> <td scope="col">TITAN</td> <td scope="col">MCD Viewer</td> <td scope="col">CellProfiler</td> <td scope="col">histoCAT</td> </tr> </thead> <tbody> <tr> <td style="text-align:left">Thumbnail view</td> <td>X</td> <td>X</td> <td></td> <td></td> </tr> <tr> <td style="text-align:left">Image Visualization</td> <td>X</td> <td>X</td> <td></td> <td>X</td> </tr> <tr> <td style="text-align:left">Automated colour scaling</td> <td>X</td> <td></td> <td></td> <td></td> </tr> <tr> <td style="text-align:left">Reading of multi-channel text files</td> <td>X</td> <td>X</td> <td></td> <td></td> </tr> <tr> <td style="text-align:left">Mask creation for all ROI at once</td> <td>X</td> <td></td> <td>X</td> <td></td> </tr> <tr> <td style="text-align:left">Basic mean intensity plots</td> <td>X</td> <td></td> <td></td> <td>X</td> </tr> <tr> <td style="text-align:left">Gating</td> <td>X</td> <td></td> <td></td> <td>X</td> </tr> <tr> <td style="text-align:left">Dimensionality reduction</td> <td>X</td> <td></td> <td></td> <td>X</td> </tr> <tr> <td style="text-align:left">Clustering functions</td> <td>X</td> <td></td> <td></td> <td></td> </tr> <tr> <td style="text-align:left">Export raw data of cell mean intensities</td> <td>X</td> <td></td> <td></td> <td></td> </tr> </tbody> </table> </article> </div> </div> <footer class="sticky-bottom mt-5"> <div class="container"> © Copyright 2023 Sindhura Thirumal. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" target="_blank" rel="noopener noreferrer">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">GitHub Pages</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/js/bootstrap.bundle.min.js" integrity="sha256-fgLAgv7fyCGopR/gBNq2iW3ZKIdqIcyshnUULC4vex8=" crossorigin="anonymous"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js" integrity="sha256-EdPgYcPk/IIrw7FYeuJQexva49pVRZNmt3LculEr7zM=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js"></script> <script defer src="/assets/js/common.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> </body> </html>